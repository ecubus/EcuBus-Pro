# æ’ä»¶ç³»ç»Ÿæ›´æ–°è¯´æ˜ - ç§»é™¤ position å±æ€§

## æ›´æ–°æ—¥æœŸ
2025-10-17

## æ›´æ–°å†…å®¹

### ä¸»è¦å˜æ›´

**å®Œå…¨ç§»é™¤äº†æ’ä»¶ Tab çš„ `position` å±æ€§**

æ‰€æœ‰æ’ä»¶æ–°å¢çš„ Tab **åªèƒ½æŒ‰ç…§åŠ è½½é¡ºåºè¿½åŠ åœ¨ç³»ç»Ÿ Tab ä¹‹å**ï¼Œæ— æ³•é€šè¿‡ position å±æ€§è‡ªå®šä¹‰é¡ºåºã€‚

### ç³»ç»Ÿ Tab å›ºå®šé¡ºåº

1. Homeï¼ˆä¸»é¡µï¼‰
2. Hardwareï¼ˆç¡¬ä»¶ï¼‰
3. Diagnosticsï¼ˆè¯Šæ–­ï¼‰
4. SOA
5. Testï¼ˆæµ‹è¯•ï¼‰
6. Othersï¼ˆå…¶ä»–ï¼‰

**æ’ä»¶ Tab ä»ç¬¬ 7 ä½å¼€å§‹**

### æ’ä»¶åŠ è½½é¡ºåº

æ’ä»¶æŒ‰ç…§ç›®å½•çš„å­—æ¯é¡ºåºåŠ è½½ï¼š

```
plugins/
â”œâ”€â”€ aaa-plugin/     â† æœ€å…ˆåŠ è½½
â”œâ”€â”€ bbb-plugin/     â† å…¶æ¬¡åŠ è½½
â””â”€â”€ zzz-plugin/     â† æœ€ååŠ è½½
```

æœ€ç»ˆæ˜¾ç¤ºé¡ºåºï¼š
```
Home â†’ Hardware â†’ Diagnostics â†’ SOA â†’ Test â†’ Others â†’ AAA Tab â†’ BBB Tab â†’ ZZZ Tab
```

### ä¿®æ”¹çš„æ–‡ä»¶

#### 1. ç±»å‹å®šä¹‰
- `src/renderer/src/plugin/tabPluginTypes.ts`
  - ç§»é™¤ `PluginTabConfig.position` å±æ€§

#### 2. æ’ä»¶ç®¡ç†å™¨
- `src/renderer/src/plugin/tabPluginManager.ts`
  - ç§»é™¤ `getNewTabs()` ä¸­çš„æ’åºé€»è¾‘
  - ç›´æ¥æŒ‰æ³¨å†Œé¡ºåºè¿”å›

#### 3. UI é›†æˆ
- `src/renderer/src/views/uds/uds.vue`
  - ç®€åŒ– `mergePluginTabs()` å‡½æ•°
  - ç§»é™¤ position ç›¸å…³å¤„ç†
  - ç›´æ¥æŒ‰é¡ºåºè¿½åŠ æ’ä»¶ tabs

#### 4. ç¤ºä¾‹æ’ä»¶
- `src/renderer/src/plugin/examples/my-custom-plugin/manifest.json`
  - ç§»é™¤ `position: 4` é…ç½®

#### 5. æ–‡æ¡£
- `docs/plugin-system.zh.md`
  - ç§»é™¤æ‰€æœ‰ position ç›¸å…³è¯´æ˜
  - æ·»åŠ åŠ è½½é¡ºåºè¯´æ˜
  - å¼ºè°ƒæ’ä»¶ Tab é¡ºåºç”±ç›®å½•åå†³å®š
  
- `docs/plugin-system.md`
  - åŒæ­¥è‹±æ–‡æ–‡æ¡£æ›´æ–°

### é…ç½®ç¤ºä¾‹å¯¹æ¯”

#### ä¹‹å‰ï¼ˆå·²åºŸå¼ƒï¼‰
```json
{
  "tabs": [
    {
      "name": "my-tab",
      "label": "My Tab",
      "icon": "mdi:star",
      "position": 3,  â† å·²ç§»é™¤
      "items": [...]
    }
  ]
}
```

#### ç°åœ¨ï¼ˆæ­£ç¡®ï¼‰
```json
{
  "tabs": [
    {
      "name": "my-tab",
      "label": "My Tab",
      "icon": "mdi:star",
      "items": [...]
    }
  ]
}
```

### é‡è¦æç¤º

1. **åˆ é™¤æ—§é…ç½®**ï¼šå¦‚æœæ‚¨çš„æ’ä»¶ manifest.json ä¸­æœ‰ `position` å­—æ®µï¼Œè¯·åˆ é™¤å®ƒï¼ˆä¸å½±å“åŠŸèƒ½ï¼Œä½†ä¸ºäº†ä»£ç æ•´æ´ï¼‰

2. **æ§åˆ¶é¡ºåº**ï¼šå¦‚æœéœ€è¦æ§åˆ¶æ’ä»¶ Tab çš„æ˜¾ç¤ºé¡ºåºï¼Œå¯ä»¥é€šè¿‡é‡å‘½åæ’ä»¶ç›®å½•æ¥å®ç°ï¼š
   ```
   plugins/
   â”œâ”€â”€ 01-important-plugin/   â† ä¼šå…ˆæ˜¾ç¤º
   â”œâ”€â”€ 02-tool-plugin/        â† å…¶æ¬¡æ˜¾ç¤º
   â””â”€â”€ 99-utility-plugin/     â† æœ€åæ˜¾ç¤º
   ```

3. **æ‰©å±•ç°æœ‰ Tab**ï¼šå¦‚æœæ‚¨çš„åŠŸèƒ½é€‚åˆæ”¾åœ¨ç³»ç»Ÿ Tab ä¸­ï¼Œè¯·ä½¿ç”¨ `extensions` è€Œä¸æ˜¯åˆ›å»ºæ–° Tabï¼š
   ```json
   {
     "extensions": [
       {
         "targetTab": "home",
         "position": "end",
         "items": [...]
       }
     ]
   }
   ```

### å…¼å®¹æ€§

- âœ… ç°æœ‰æ’ä»¶æ— éœ€ä¿®æ”¹å³å¯ç»§ç»­ä½¿ç”¨
- âœ… `position` å­—æ®µä¼šè¢«å¿½ç•¥ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
- âœ… æ‰€æœ‰åŠŸèƒ½ä¿æŒæ­£å¸¸

### ä¼˜ç‚¹

1. **ç®€åŒ–é…ç½®**ï¼šä¸éœ€è¦æ‹…å¿ƒ position å†²çª
2. **å¯é¢„æµ‹æ€§**ï¼šTab é¡ºåºå®Œå…¨ç”±ç›®å½•åå†³å®š
3. **æ˜“äºç®¡ç†**ï¼šé€šè¿‡é‡å‘½åç›®å½•å³å¯è°ƒæ•´é¡ºåº
4. **ä»£ç æ›´ç®€æ´**ï¼šå‡å°‘äº†æ’åºå’Œå†²çªå¤„ç†é€»è¾‘

### æŸ¥çœ‹æ›´æ–°

è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ä»£ç å˜æ›´ï¼š
```bash
git diff HEAD~1 src/renderer/src/plugin/
git diff HEAD~1 docs/plugin-system*
```

## å¦‚æœ‰ç–‘é—®

è¯·å‚é˜…ï¼š
- ğŸ“– `docs/plugin-system.zh.md` - å®Œæ•´ä¸­æ–‡æ–‡æ¡£
- ğŸ“– `docs/plugin-system.md` - English documentation
- ğŸ’¡ `src/renderer/src/plugin/examples/` - ç¤ºä¾‹æ’ä»¶

---

**æ€»ç»“**ï¼šæ’ä»¶ Tab ç°åœ¨æŒ‰ç…§åŠ è½½é¡ºåºï¼ˆç›®å½•å­—æ¯é¡ºåºï¼‰æ’åˆ—åœ¨ç³»ç»Ÿ Tab ä¹‹åï¼Œæ›´åŠ ç®€å•å’Œå¯é¢„æµ‹ï¼

